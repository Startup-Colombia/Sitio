!function(e){e.f[123]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0}),e.r(124);const o=e.r(125),i=e.r(126),n=e.r(127);n.setDev(!1),(async()=>{const e=await o.runModule(i,!1);window.app=e})()},e.f[124]=function(){e.r(0)("app/styles.css","/* Global styles */\n\nhtml, body {\n  box-sizing: border-box;\n  margin: 0px;\n  width: 100%;\n  height: 100%;\n}\n#app {\n  width: 100%;\n  height: 100%;\n}\n*, *:before, *:after {\n  box-sizing: inherit;\n}\n\n/* App styles (fonts and other globals) */\n")},e.f[125]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(24);a.runModule=((e,t,a)=>o.run({log:t,record:t,Root:e,...a,groups:{style:n.styleHandler("",t)},tasks:{route:e=>{if("undefined"!=typeof window){if(!window.ssrInitialized&&"/"===window.location.pathname){let e=window.location.hash,t=window.location.search;window.history.pushState({route:"/",hash:e,search:t},"","/"+e+t)}window.onpopstate=(t=>{t.state&&e.dispatchEv({},["Root","toRoute",[t.state.route||"/",t.state]])})}return{state:{},handle:async([t,a])=>{"undefined"!=typeof window&&window.history.pushState({route:t},t,t),e.dispatchEv({},["Root","toRoute",[t,{state:a}]])},dispose:()=>{}}}},interfaces:{view:i.viewHandler("#app")},...t?o.logFns:{}}))},e.f[126]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(127),r=e.r(128),s=e.r(129);if("undefined"!=typeof window)var c=e.r(44);const l=e.r(130),p=e.r(132),d=e.r(139),m=e.r(140),h=e.r(141);async function u(e,t){"#-panel"===e&&(await t.toIt("setRoute","Dashboard"),await t.toChild("Dashboard","setActive")),"#-stats"===e?(await t.toIt("setRoute","Stats"),await t.toChild("Stats","setActive")):"#-admin-s34-2343"===e?(await t.toIt("setRoute","Admin"),await t.toChild("Admin","setActive")):"#"===e&&(await t.toAct("SetRoute","Main"),await t.toChild("Main","setActive"))}a.name="Root",a.components={Main:l,Dashboard:p,Admin:d,Site:m,Stats:h},a.state={section:"Main",route:"Main",token:"",name:"",picture:"",_nest:a.components},a.routeToComp=u,a.inputs=(e=>({init:async()=>{if("undefined"!=typeof window){e.on("login",e.in("login"));let t=r.extractId(window.location.href).split("/")[0];if(window.ssrInitialized){let t,a=window.ssrComponents;for(t in a)e.ctx.components[t].state=o.deepmerge(e.ctx.components[t].state,a[t].state)}await e.toIt("authenticate"),u("#"+t,e)}},authenticate:async()=>{c.init({facebook:"257690644717021"},{redirect_uri:"redirect.html"});let t=localStorage.getItem("token");if(t)try{return e.toIt("fetchUser",t),e.toAct("SetToken",t),void e.toChild("Main","setAuth",!0)}catch(e){"401"===e&&localStorage.removeItem("token")}c.on("auth.login",t=>{c(t.network).api("me").then(a=>{let o=t.authResponse.access_token;(function(e,t){return fetch(n.getServer()+"/api/auth",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({socialToken:t})}).then(e=>e.text())})(t.network,o).then(async t=>{if("-1"===t)return alert("Hay un problema, le daré solución prontamente");if("-2"===t)return alert("Debes verificar tu cuenta de Facebook para poder acceder");localStorage.setItem("token",t),await e.toAct("SetToken",t),e.toChild("Main","setAuth",!0),fbq("track","CompleteRegistration");try{await e.toIt("fetchUser",t)}catch(e){"401"===e&&localStorage.removeItem("token")}}).catch(e=>{console.clear(),console.error(e),alert("Hay un problema, lo resolveré prontamente")})})}),c.on("auth.logout",async()=>{await e.toAct("SetToken",""),e.toChild("Main","setAuth",!1),localStorage.removeItem("token")})},fetchUser:async t=>{try{let a=await fetch(n.getServer()+"/api/user",{headers:{Authorization:"Bearer "+t}}).then(function(e){if(!e.ok)throw Error(e.status+"");return e}).then(e=>e.json());await e.toChild("Dashboard","setTokenAndProfile",[t,a]),await e.toAct("SetPicture",a.fbData.pictureURL),await e.toAct("SetName",a.name),await e.toChild("Admin","setTokenAndProfile",[t,a])}catch(e){throw Error(e)}},setSection:async t=>{await e.toAct("SetSection",t)},toRoute:async([t,a])=>{"/"===t?(await e.toAct("SetSection","Main"),await e.toChild("Main","setActive")):(await e.toChild("Site","setActive",{fetched:!0,...a.state}),await e.toAct("SetSection","Site"))},setRoute:async t=>{await e.toAct("SetRoute",t)},setHash:async t=>{setTimeout(()=>{window.location.href="#",window.location.href=t},0),u(t,e)},login:async()=>{c("facebook").login(),await e.toIt("setHash","#-panel")},logout:async()=>{c.logout("facebook"),await e.toChild("Dashboard","logout"),await e.toIt("setHash","#"),await e.toAct("SetToken",""),e.toChild("Main","setAuth",!1),localStorage.removeItem("token")}})),a.actions={SetSection:o.assoc("section"),SetRoute:o.assoc("route"),SetToken:o.assoc("token"),SetPicture:o.assoc("picture"),SetName:o.assoc("name")};a.interfaces={view:e=>async t=>{let a=o.getStyle(e),n=""!==t.token;return"Site"===t.section?e.vw("Site"):"Main"===t.section?i.h("div",{key:e.ctx.name,class:a("base")},[i.h("header",{class:a("header")},[i.h("a",{class:a("titulo"),attrs:{href:"/"}},[i.h("img",{class:a("tituloImagen"),attrs:{src:"assets/favicon.png",alt:"Startup Colombia",itemprop:"image"}}),i.h("h1",{class:a("tituloText")},"Startup Colombia")]),i.h("div",{class:a("menu")},[...n?[i.h("div",{class:a("routes")},[["Panel de Control","#-panel","Dashboard"],["Lista","#","Main"],["Estadísticas","#-stats","Stats"]].map(([o,n,r])=>i.h("div",{class:a("option",!0,"optionActive",r===t.route),on:{click:e.in("setHash",n)}},o)))]:[],i.h("div",{class:a("leftMenu")},[...n?[i.h("img",{class:a("picture"),attrs:{alt:t.name,title:t.name,src:t.picture}})]:[],i.h("div",{class:a("auth"),on:{click:e.in(n?"logout":"login")}},n?"Salir":"Entrar")])])]),i.h("div",{class:a("footer")},[i.h("div",{class:a("footerAuthor")},["Hecho con",i.h("svg",{class:a("HearthIcon"),attrs:{viewBox:"0 0 200 200"}},[i.h("path",{class:a("HearthIconPath"),attrs:{d:"m95.36899,50.0558c37.26498,-106.90773 183.27039,0 0,137.45279c-183.27039,-137.45279 -37.26498,-244.36052 0,-137.45279z"}})]),"por el equipo de ",i.h("a",{class:a("footerLink",!0,"footerPrimaryLink",!0),attrs:{href:"https://www.facebook.com/StartupsColombia/",rel:"noopener",target:"_blank"}},[i.h("span",{},"Startup Colombia")])])]),await e.vw(t.route)]):i.h("p",{},"Sección no encontrada")}};const x={base:{width:"100%",height:"100%",display:"flex",flexDirection:"column",color:s.palette.textPrimary,overflowY:"scroll",...s.textStyle},header:{flexShrink:0,position:"relative",width:"100%",height:"180px",padding:"30px 20px 30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:s.palette.primary,boxShadow:"0px 1px 1px 0px "+s.palette.shadowGrey,$nest:{[`@media screen and (max-width: ${s.BP.sm}px)`]:{flexDirection:"column",paddingBottom:"10px"}}},titulo:{display:"flex",alignItems:"center",textDecoration:"none"},tituloImagen:{width:"120px",height:"auto",marginRight:"20px",$nest:{[`@media screen and (max-width: ${s.BP.md}px)`]:{width:"100px",marginRight:"10px"}}},tituloText:{margin:"0",paddingRight:"40px",fontSize:"42px",color:"white",$nest:{[`@media screen and (max-width: ${s.BP.md}px)`]:{paddingRight:"0",fontSize:"38px"}}},menu:{position:"absolute",top:"0px",right:"0px",padding:"5px",display:"flex",alignItems:"center",$nest:{[`@media screen and (max-width: ${s.BP.sm}px)`]:{position:"initial"}}},routes:{display:"flex",paddingRight:"15px",$nest:{[`@media screen and (max-width: ${s.BP.sm}px)`]:{padding:"10px 0 0 0"}}},option:{borderRadius:"2px",padding:"4px 8px",color:"white",fontSize:"16px",fontWeight:"bold",...o.clickable,$nest:{"&:hover":{backgroundColor:s.palette.primaryLight}}},optionActive:{backgroundColor:s.palette.primaryLight},leftMenu:{display:"flex",alignItems:"center",$nest:{[`@media screen and (max-width: ${s.BP.sm}px)`]:{position:"absolute",top:"0px",right:"0px",padding:"5px"}}},picture:{width:"25px",height:"25px",borderRadius:"50%"},auth:{marginLeft:"10px",padding:"4px 7px",borderRadius:"2px",color:"white",fontSize:"16px",fontWeight:"bold",...o.clickable,$nest:{"&:hover":{backgroundColor:s.palette.primaryLight}}},footer:{flexShrink:0,order:1,position:"relative",marginTop:"13px",padding:"20px 0 10px 0",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:s.palette.shadowLight,boxShadow:"0px -1px 1px 0px "+s.palette.shadowLighter},footerAuthor:{padding:"15px 10px",textAlign:"center",fontSize:"16px",color:s.palette.textTertiary,marginBottom:"4px"},HearthIcon:{width:"18px",height:"18px",margin:"0px 4px -3px 6px"},HearthIconPath:{fill:s.palette.redCol},footerLink:{padding:"4px",fontSize:"16px",textDecoration:"none",$nest:{"&:hover":{textDecoration:"underline"}}},footerPrimaryLink:{fontSize:"16px",color:s.palette.primary},partnerNotice:{position:"absolute",bottom:"0",right:"0",padding:"5px",fontSize:"12px",color:s.palette.textSecondary},partner:{fontSize:"12px",color:s.palette.textTertiary,padding:"4px",textDecoration:"none",$nest:{"&:hover":{textDecoration:"underline"}}}};a.groups={style:x}},e.f[127]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.config={DEV:!1},t.setDev=(e=>t.config.DEV=e),t.getServer=(()=>t.config.DEV?"http://localhost:3001":""),t.cloudantURL="https://1ec8c733-54bd-44c9-aafd-cd14edb80cf1-bluemix.cloudant.com"},e.f[128]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(127);a.search=((e,t,i,n,r="")=>{let s=a.buildSearchString(function(e){return l(e.toLowerCase())}(e),t)+r,c=encodeURIComponent(s);return fetch(`${o.cloudantURL}/companies/_design/companies/_search/companies?q=${c}&limit=${n}`+(i?`&bookmark=${i}`:"")+"&include_docs=true").then(e=>e.json()).then(e=>Promise.resolve([e.rows.map(e=>e.doc),e.total_rows,e.bookmark])).catch(e=>{})}),a.strToLink=function(e){return l(e.toLocaleLowerCase().replace(/ /g,"-"))},a.extractId=(e=>{try{return new URL(e).hash.substr(1)}catch(e){return""}}),a.refreshHashScroll=function(){setTimeout(()=>{let e=window.location.hash;e.substr(1).length>0&&(window.location.href="#",window.location.href=e)},0)},a.changeSearchString=function(e){var t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+e+window.location.hash;window.history.pushState({path:t},"",t)},a.buildSearchString=((e,t)=>{let a=e.replace(/\/|-|,/g," ").split(" ").map(e=>e.trim()).join(" ");return""===a?"*:*":a.split(" ").filter(e=>""!==e).map(e=>e.trim()).join(" ").split("+").map(e=>e.trim()).join(" AND ").split(" ").map(e=>"AND"===e||-1!==e.indexOf(":")?e:t+":"+e+(-1===e.indexOf("^")?"*":"")).join(" ")});for(var i=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],n={},r=0;r<i.length;r++)for(var s=i[r].letters,c=0;c<s.length;c++)n[s[c]]=i[r].base;function l(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return n[e]||e})}},e.f[129]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1);a.BP={sm:480,md:768},a.textStyle={fontFamily:"'Open Sans', sans-serif"},a.palette={primary:"#1A69EE",primaryLight:"#367AEC",secondary:"#ee6f1a",secondaryLight:"#f2832e",textPrimary:"#302f2f",textSecondary:"#404040",textTertiary:"#5c5657",shadowGrey:"rgba(197,207,235,1)",shadowLight:"#e8e7e7",shadowLighter:"#f2f2f2",borderLight:"#bfbfbf",borderGrey:"#ada8a9",actionColor:"#1dc763",actionColorLight:"#1bd668",red:"#ee1a1a",yellow:"#eed91a",green:"#45ee1a",redCol:"#CE1126"},a.createBtnStyle=((e,t,a)=>({padding:"8px 10px",borderRadius:"4px",fontSize:"20px",color:a,backgroundColor:e,border:"none",outline:"none",...o.absoluteCenter,...o.clickable,$nest:{"&:hover":{backgroundColor:t},"&:focus":{backgroundColor:t}}})),a.buttonPrimaryStyle=a.createBtnStyle(a.palette.primary,a.palette.primaryLight,"white"),a.buttonCancelStyle=a.createBtnStyle(a.palette.shadowLighter,a.palette.shadowLight,a.palette.textSecondary),a.scrollBar={$nest:{"&::-webkit-scrollbar":{width:"12px",height:"12px"},"&::-webkit-scrollbar-track":{backgroundColor:a.palette.shadowLighter,borderRadius:"7px"},"&::-webkit-scrollbar-thumb":{backgroundColor:a.palette.borderLight,borderRadius:"7px"}}},a.simpleInput={...a.textStyle,width:"80%",margin:"5px 0",minWidth:"300px",padding:"8px",fontSize:"18px",outline:"none",border:"none",color:a.palette.textPrimary,borderBottom:"1px solid "+a.palette.borderLight,$nest:{"&:focus":{borderBottom:"1px solid "+a.palette.primary}}}},e.f[130]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(129),r=e.r(128),s=e.r(127),c=i.h("script",{attrs:{type:"application/ld+json"}},'\n{\n  "@graph": [\n    {\n      "@context": "http://schema.org",\n      "@type": "WebSite",\n      "name": "Startup Colombia",\n      "url": "https://startupcol.com/",\n      "potentialAction": {\n        "@type": "SearchAction",\n        "target": "https://startupcol.com/?q={search_term_string}",\n        "query-input": "required name=search_term_string"\n      }\n    },\n    {\n      "@context": "http://schema.org",\n      "@type": "Organization",\n      "url": "https://startupcol.com/",\n      "logo": "https://startupcol.com/assets/favicon.png"\n    }\n  ]\n}\n');a.meta={title:"Startup Colombia - Comunidad de empresas de base tecnológica",description:"Founders intercambiando experiencias y aprendizajes. Comuniad de empresas de base tecnologica.",keywords:"empresas colombianas,startup colombia,comunidad de empresas colombianas,startups colombianas,comunidad de startups"};const l=e.r(131);a.components={Company1:o.clone(l),Company2:o.clone(l),Company3:o.clone(l)},a.state={online:!0,auth:!1,searchState:"wait",searchTimeout:-1,companiesPerPage:20,page:0,pages:[""],maxPages:1,searchText:"",searchFilter:"all",filteredCompanies:[],initialized:!1,companiesCount:0,randomFetched:!1,_nest:a.components,_compUpdated:!1};let p=[["all","General"],["tags","Por categorías"],["name","Por nombre"],["places","Por lugares"],["user","Por usuario"]];a.setSearchString=((e,t)=>{r.changeSearchString(`q=${encodeURIComponent(e)}&filter=${encodeURIComponent(t)}`)}),a.inputs=(e=>({setAuth:async t=>{e.set("auth",t)},initEmpresas:async([t,a,i])=>{let n=o.clone(t);await e.toIt("setFilteredCompanies",[o.clone(n),a,i])},setFilteredCompanies:async([t,a,i])=>{await e.toAct("SetBookmark",i),await e.toAct("SetFilteredCompanies",[o.clone(t),a]);var n,r=0;t[0]&&await async function a(o){await e.toAct("AddCompany",o._id),await e.toChild(o._id,"setState",o),(n=t[++r])&&await a(n)}(t[0])},setPage:async t=>{let a=e.stateOf();await e.toAct("SetPage",t),r.search(a.searchText,a.searchFilter,a.pages[a.page],a.companiesPerPage).then(async([t,a,o])=>{await e.toIt("initEmpresas",[t,a,o]),await e.toIt("scrollTop")}).catch(e=>{})},setActive:async()=>{if("undefined"!=typeof window){let t=window.location.search.substr(1);if(""!==t){let a=t.split("&"),o={q:"",filter:"all"};for(let e,t=0;e=a[t];t++){let t=e.split("=");o[t[0]]=t[1]}""===o.q&&await e.toIt("randomCompanies");let i=decodeURIComponent(o.q),n=decodeURIComponent(o.filter);await e.toAct("SetSearchFilter",n),await e.toAct("SetSearchFilter",n),await e.toAct("SetSearchText",i),await e.toIt("search",i)}else e.stateOf().filteredCompanies.length>0&&(await e.toAct("SetSearchText",""),await e.toIt("setFilteredCompanies",[])),await e.toIt("randomCompanies")}},scrollTop:async()=>{document.querySelector("#app div").scrollTop=0},searchInputKeyup:async t=>{if(""===(t=t.trim()))return await e.toAct("SetSearchText",""),a.setSearchString("","all"),await e.toIt("initEmpresas",[[],0,""]),void await e.toIt("randomCompanies");e.toAct("SetRandomFetched",!1);let o=e.stateOf();"wait"===o.searchState?(await e.toAct("SetSearchState","ignore"),await e.toAct("SetSearchText",t),o.searchTimeout=setTimeout(async()=>{await e.toAct("SetSearchState","ready"),await e.toIt("searchInputKeyup",o.searchText)},400)):"ready"===o.searchState?(await e.toIt("search",t),await e.toAct("SetSearchState","wait"),o.searchTimeout=-1):(clearTimeout(o.searchTimeout),await e.toAct("SetSearchText",t),o.searchTimeout=setTimeout(async()=>{await e.toAct("SetSearchState","ready"),await e.toIt("searchInputKeyup",o.searchText)},400))},searchFilterChange:async t=>{await e.toAct("SetSearchFilter",p[t][0]),await e.toIt("search",e.stateOf().searchText)},search:async t=>{let o=e.stateOf();r.search(t,o.searchFilter,"",o.companiesPerPage).then(async([i,n,s])=>{await e.toAct("SetOnline",!0),await e.toIt("initEmpresas",[i,n,s]),a.setSearchString(t,o.searchFilter),o.initialized?window.location.hash="":(r.refreshHashScroll(),await e.toAct("SetInitialized",!0))}).catch(()=>e.toAct("SetOnline",!1))},randomCompanies:async()=>{await e.toAct("SetOnline",!0),fetch(s.cloudantURL+"/companies").then(e=>e.json()).then(t=>{e.toAct("SetCompaniesCount",10*Math.floor(t.doc_count/10)),fetch(s.cloudantURL+"/companies/_all_docs").then(e=>e.json()).then(({rows:a})=>{let o;for(let i=0;i<3;i++){let n=Math.ceil(Math.random()*t.doc_count);for(;n===o;)n=Math.ceil(Math.random()*t.doc_count);fetch(s.cloudantURL+"/companies/"+a[n].id).then(e=>e.json()).then(async t=>{await e.toChild("Company"+(i+1),"setState",t),2===i&&await e.toAct("SetRandomFetched",!0)}),o=n}}).catch(()=>e.toAct("SetOnline",!1))}).catch(()=>e.toAct("SetOnline",!1))},$_setFilter:async([t,[o,i]])=>{await e.toIt("scrollTop"),await e.toAct("SetSearchFilter",o),await e.toAct("SetSearchText",i),a.setSearchString(i,o),await e.toIt("search",i)},login:async()=>{e.emit("login")}})),a.actions={SetOnline:o.assoc("online"),SetPage:o.assoc("page"),AddCompany:e=>t=>(t._nest[e]=l,t._compUpdated=!0,t),SetBookmark:e=>t=>(t.pages[t.page+1]||(t.pages[t.page+1]=e),t),NextPage:()=>e=>(e.page<e.maxPages&&e.page++,e),SetSearchText:e=>t=>(t.searchText=e,t.pages=[""],t),SetSearchState:o.assoc("searchState"),SetSearchFilter:e=>t=>(t.searchFilter=e,t.pages=[""],t),SetFilteredCompanies:([e,t])=>a=>(a.filteredCompanies=e,a.maxPages=Math.ceil(t/a.companiesPerPage),a),SetInitialized:o.assoc("initialized"),SetCompaniesCount:o.assoc("companiesCount"),SetRandomFetched:o.assoc("randomFetched")};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return i.h("article",{key:e.ctx.id,class:{[a.base]:!0}},[i.h("header",{class:{[a.header]:!0}},[i.h("p",{class:{[a.descripcion]:!0}},["Comunidad de empresas de base tecnológica"]),...t.auth?[]:[i.h("button",{class:{[a.authBtn]:!0},on:{click:e.in("login")}},"¡Únete!")]]),i.h("input",{class:{[a.searchInput]:!0},attrs:{type:"text",placeholder:"Lista de empresas..."},props:{value:t.searchText},on:{keyup:e.in("searchInputKeyup",o._,["target","value"])}}),i.h("div",{class:{[a.empresas]:!0}},[...t.online?0===t.filteredCompanies.length&&""!==t.searchText?[i.h("div",{class:{[a.empresasVacio]:!0}},". . .")]:""===t.searchText?[]:await o.mapAsync(t.filteredCompanies,async(t,a)=>await e.vw(t._id)):[i.h("div",{class:{[a.empresasVacio]:!0}},"No hay conexión")]]),...""!==t.searchText?[i.h("div",{class:{[a.pages]:!0}},[...t.pages.filter((e,a)=>a<t.maxPages).map((o,n)=>i.h("div",{class:{[a.pageNumber]:!0,[a.pageNumberActive]:n===t.page},on:{click:e.in("setPage",n)}},n+1+"")),i.h("div",{class:{[a.nextMessage]:!0}},`... ${t.maxPages} páginas`)])]:[],c,...t.randomFetched&&0===t.filteredCompanies.length?[i.h("div",{class:{[a.randomContainer]:!0}},[i.h("div",{class:{[a.randomDescription]:!0}},`Aquí una muestra de 3 ¡Somos más de ${t.companiesCount} empresas!`),await e.vw("Company1"),await e.vw("Company2"),await e.vw("Company3"),i.h("div",{class:{[a.moreRandomContainer]:!0}},[i.h("button",{class:{[a.moreRandomBtn]:!0},on:{click:e.in("randomCompanies")}},"Quiero más!")])])]:[]])}};const d={base:{flexShrink:0,minHeight:"calc(100% - 249px)",paddingBottom:"50px",display:"flex",flexDirection:"column",alignItems:"center"},header:{display:"flex",flexDirection:"column",alignItems:"center"},titulo:{margin:"30px 0 10px 0",fontSize:"28px",color:n.palette.secondary},descripcion:{maxWidth:"800px",textAlign:"center",lineHeight:"1.5em",fontSize:"24px",margin:"25px 10px 25px 10px",color:n.palette.textPrimary,$nest:{[`@media screen and (max-width: ${n.BP.sm}px)`]:{marginBottom:"20px"}}},authBtn:{marginBottom:"20px",padding:"10px 24px",background:"none",border:"none",fontSize:"30px",color:"white",borderRadius:"27px",backgroundColor:n.palette.actionColor,transition:"background-color 0.3s",...o.clickable,$nest:{"&:hover":{backgroundColor:n.palette.actionColorLight}}},searchInput:{width:"95%",maxWidth:"500px",paddingBottom:"10px",border:"none",fontSize:"28px",textAlign:"center",color:n.palette.textPrimary,borderBottom:"1px solid "+n.palette.borderLight,outline:"none",...n.textStyle,$nest:{[`@media screen and (max-width: ${n.BP.sm}px)`]:{minWidth:"310px",margin:"0 10px 20px 10px",textAlign:"center",padding:"0 10px"}}},empresas:{width:"100%",maxWidth:"484px"},empresasVacio:{textAlign:"center",fontSize:"30px"},pages:{marginTop:"20px",padding:"10px",display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},pageNumber:{margin:"2px",padding:"5px 7px",borderRadius:"4px",textDecoration:"underline",...o.clickable,$nest:{"&:hover":{backgroundColor:n.palette.shadowLight},[`@media screen and (max-width: ${n.BP.sm}px)`]:{padding:"8px 12px",fontSize:"20px",textDecoration:"none"}}},pageNumberActive:{backgroundColor:n.palette.shadowLight},nextMessage:{margin:"2px",padding:"5px 7px"},randomContainer:{marginTop:"30px"},randomDescription:{textAlign:"center",padding:"5px 10px"},moreRandomContainer:{padding:"25px",display:"flex",justifyContent:"center",alignItems:"center"},moreRandomBtn:{padding:"8px",...n.textStyle,fontSize:"20px",border:"1px solid "+n.palette.borderLight,borderRadius:"4px",backgroundColor:"white",color:n.palette.textSecondary,outline:"none",...o.clickable,$nest:{"&:hover":{backgroundColor:n.palette.shadowLight}}}};a.groups={style:d}},e.f[131]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(129),r=e.r(128);a.state={_id:"",name:"",description:"",webpage:"",webpageName:"",networks:{facebook:""},userFb:"",user:"",userId:"",tags:[],places:[]},a.inputs=(e=>({setState:async t=>{await e.toAct("SetState",t)},setFilter:async([e,t])=>{},toSite:async t=>{let a=r.strToLink(t.name);await e.task("route",["/"+a,t])}})),a.actions={SetState:e=>t=>{let i=o.deepmerge(o.clone(a.state),e);return i.webpageName=i.webpage.split("/")[2],i}};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style,n=t.webpage?t.webpage:t.networks.facebook?t.networks.facebook:t.userFb?t.userFb:"https://facebook.com/"+t.userId;return i.h("div",{key:e.ctx.id,class:{[a.base]:!0}},[i.h("a",{key:"title",class:{[a.title]:!0},attrs:{href:n,target:"_blank",rel:"nofollow noopener noreferrer"}},t.name),...t.description?[i.h("div",{key:"description",class:{[a.description]:!0}},t.description)]:[],i.h("div",{key:"container",class:{[a.dataContainer]:!0}},[...t.webpage?[i.h("a",{key:"webpage",class:{[a.webpage]:!0,[a.link]:!0},attrs:{href:t.webpage,rel:"nofollow noopener noreferrer",target:"_blank"}},t.webpageName)]:[],...t.networks.facebook?[i.h("a",{key:"fanpage",class:{[a.fanpage]:!0,[a.link]:!0},attrs:{href:t.networks.facebook,rel:"nofollow noopener noreferrer",target:"_blank"}},"Fanpage")]:[],i.h("a",{class:{[a.user]:!0,[a.link]:!0},attrs:{href:t.userFb?t.userFb:"https://facebook.com/"+t.userId,rel:"nofollow noopener noreferrer",target:"_blank"}},t.user)]),t.places?i.h("div",{class:{[a.places]:!0},on:{click:e.in("setFilter",["places",t.places[0]])}},t.places[0]):i.h("div"),t.tags?i.h("div",{class:{[a.tags]:!0}},t.tags.map(t=>i.h("div",{class:{[a.tag]:!0},on:{click:e.in("setFilter",["tags",t])}},t))):i.h("div"),i.h("a",{class:{[a.moreLink]:!0},attrs:{href:"/"+r.strToLink(t.name)},on:{click:e.in("toSite",t,o._,{default:!1})}},"ver más...")])}};const s={base:{position:"relative",width:"100%",maxWidth:"484px",display:"flex",flexDirection:"column",padding:"0 0 15px 0",alignItems:"center",borderBottom:"1px solid "+n.palette.borderLight},title:{margin:"0",padding:"10px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",color:n.palette.textPrimary,fontSize:"24px",textAlign:"center",textDecoration:"none",cursor:"pointer",$nest:{[`@media screen and (max-width: ${n.BP.sm}px)`]:{maxWidth:"245px",width:"100%",padding:"10px 0",fontSize:"20px"},"&:hover":{textDecoration:"underline"}}},description:{maxWidth:"93%",padding:"5px 10px 10px 10px",fontSize:"16px",textAlign:"center",color:n.palette.textSecondary,$nest:{[`@media screen and (max-width: ${n.BP.sm}px)`]:{maxWidth:"100%",padding:"5px 4px 10px 4px",fontSize:"14px"}}},dataContainer:{display:"flex",flexDirection:"column",alignItems:"center",[`@media screen and (max-width: ${n.BP.sm}px)`]:{width:"100%"}},link:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5px 8px",textDecoration:"none",borderRadius:"4px",...o.clickable,$nest:{"&:hover":{backgroundColor:n.palette.shadowLight},[`@media screen and (max-width: ${n.BP.sm}px)`]:{width:"90%",padding:"8px 8px",textAlign:"center"}}},webpage:{color:n.palette.primary},fanpage:{color:n.palette.primary},user:{color:n.palette.textTertiary},places:{marginTop:"8px",marginBottom:"2px",padding:"4px 6px",borderRadius:"4px",fontSize:"14px",color:n.palette.textTertiary,...o.clickable,$nest:{"&:hover":{backgroundColor:n.palette.shadowLight}}},tags:{maxWidth:"85%",display:"flex",justifyContent:"center",flexWrap:"wrap"},tag:{margin:"3px",padding:"3px",borderRadius:"4px",fontSize:"14px",color:n.palette.textTertiary,border:"1px solid "+n.palette.borderGrey,...o.clickable,$nest:{"&:hover":{backgroundColor:n.palette.shadowLight}}},moreLink:{position:"absolute",bottom:"0px",right:"0px",fontSize:"14px",color:n.palette.textTertiary,textDecoration:"none",...o.clickable,$nest:{"&:hover":{textDecoration:"underline"}}}};a.groups={style:s}},e.f[132]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(127),r=e.r(129),s=e.r(133),c=e.r(137),l=e.r(131),p=e.r(138),d=()=>alert("Algo esta mal, estoy trabajando para solucionarlo");a.components={NewCompany:s,ModifyCompany:c,JoinToSee:p},a.state={fetched:!1,token:"",profile:{name:"",email:""},companies:[],activeModal:"",_nest:a.components,_compUpdated:!1},a.inputs=(e=>({setActive:async()=>{e.stateOf().token&&await e.toIt("fetchCompanies")},logout:async()=>await e.toAct("SetToken",""),setTokenAndProfile:async([t,a])=>{await e.toAct("SetToken",t),await e.toAct("SetProfile",a),await e.toIt("fetchCompanies")},fetchCompanies:async()=>{try{let t=await fetch(n.getServer()+"/api/companies",{headers:{Authorization:"Bearer "+e.stateOf().token}}).then(e=>e.json());if(await e.toAct("Fetched"),t.code<0)return d();await e.toIt("setCompanies",t)}catch(e){d()}},activeNewCompany:async()=>{let t=e.stateOf();await e.toChild("NewCompany","setActive",[t.token,t.profile]),await e.toAct("SetActiveModal","NewCompany")},$NewCompany_close:async()=>e.toAct("SetActiveModal",""),$NewCompany_companyAdded:async t=>{t._userEmail&&await e.toAct("SetEmail",t._userEmail)},$ModifyCompany_close:async()=>{await e.toAct("SetActiveModal",""),await e.toIt("fetchCompanies")},setCompanies:async t=>{await e.toAct("SetCompanies",t);for(let a,o=0;a=t[o];o++)await e.toChild(a._id,"setState",a)},activeModifyCompany:async t=>{let a=e.stateOf();await e.toChild("ModifyCompany","setActive",[a.token,a.profile]),await e.toChild("ModifyCompany","setCompany",t),await e.toAct("SetActiveModal","ModifyCompany")}})),a.actions={Fetched:()=>o.assoc("fetched")(!0),SetToken:o.assoc("token"),SetProfile:o.assoc("profile"),SetEmail:e=>t=>(t.profile.email=e,t),SetCompanies:e=>t=>{for(let a,i=0;a=e[i];i++)t._nest[a._id]=o.clone(l);return t.companies=e,t._compUpdated=!0,t},SetActiveModal:o.assoc("activeModal")};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return""!==t.token?i.h("article",{class:{[a.base]:!0}},[...""!==t.activeModal?[i.h("div",{class:{[a.modal]:!0},on:{click:e.act("SetActiveModal","")}},[await e.vw(t.activeModal)])]:[],i.h("h1",{class:{[a.title]:!0}},`¡Hola ${t.profile.name}!`),t.fetched?i.h("div",{class:{[a.container]:!0}},[i.h("button",{class:{[a.addCompanyBtn]:!0},on:{click:e.in("activeNewCompany")}},"Agregar Empresa"),i.h("div",{class:{[a.companies]:!0}},[i.h("div",{class:{[a.companiesTitle]:!0}},"Empresas"),...await o.mapAsync(t.companies,async t=>i.h("div",{class:{[a.companyContainer]:!0}},[await e.vw(t._id),i.h("svg",{class:{[a.modifyCompanyBtn]:!0},attrs:{viewBox:"0 0 268.765 268.765"},on:{click:e.in("activeModifyCompany",t)}},[i.h("path",{attrs:{d:"M267.92,119.461c-0.425-3.778-4.83-6.617-8.639-6.617 c-12.315,0-23.243-7.231-27.826-18.414c-4.682-11.454-1.663-24.812,7.515-33.231c2.889-2.641,3.24-7.062,0.817-10.133 c-6.303-8.004-13.467-15.234-21.289-21.5c-3.063-2.458-7.557-2.116-10.213,0.825c-8.01,8.871-22.398,12.168-33.516,7.529 c-11.57-4.867-18.866-16.591-18.152-29.176c0.235-3.953-2.654-7.39-6.595-7.849c-10.038-1.161-20.164-1.197-30.232-0.08 c-3.896,0.43-6.785,3.786-6.654,7.689c0.438,12.461-6.946,23.98-18.401,28.672c-10.985,4.487-25.272,1.218-33.266-7.574    c-2.642-2.896-7.063-3.252-10.141-0.853c-8.054,6.319-15.379,13.555-21.74,21.493c-2.481,3.086-2.116,7.559,0.802,10.214    c9.353,8.47,12.373,21.944,7.514,33.53c-4.639,11.046-16.109,18.165-29.24,18.165c-4.261-0.137-7.296,2.723-7.762,6.597    c-1.182,10.096-1.196,20.383-0.058,30.561c0.422,3.794,4.961,6.608,8.812,6.608c11.702-0.299,22.937,6.946,27.65,18.415    c4.698,11.454,1.678,24.804-7.514,33.23c-2.875,2.641-3.24,7.055-0.817,10.126c6.244,7.953,13.409,15.19,21.259,21.508    c3.079,2.481,7.559,2.131,10.228-0.81c8.04-8.893,22.427-12.184,33.501-7.536c11.599,4.852,18.895,16.575,18.181,29.167    c-0.233,3.955,2.67,7.398,6.595,7.85c5.135,0.599,10.301,0.898,15.481,0.898c4.917,0,9.835-0.27,14.752-0.817    c3.897-0.43,6.784-3.786,6.653-7.696c-0.451-12.454,6.946-23.973,18.386-28.657c11.059-4.517,25.286-1.211,33.281,7.572    c2.657,2.89,7.047,3.239,10.142,0.848c8.039-6.304,15.349-13.534,21.74-21.494c2.48-3.079,2.13-7.559-0.803-10.213    c-9.353-8.47-12.388-21.946-7.529-33.524c4.568-10.899,15.612-18.217,27.491-18.217l1.662,0.043    c3.853,0.313,7.398-2.655,7.865-6.588C269.044,139.917,269.058,129.639,267.92,119.461z M134.595,179.491    c-24.718,0-44.824-20.106-44.824-44.824c0-24.717,20.106-44.824,44.824-44.824c24.717,0,44.823,20.107,44.823,44.824    C179.418,159.385,159.312,179.491,134.595,179.491z"}})])]))])]):i.h("div",{class:{[a.description]:!0}},". . .")]):await e.vw("JoinToSee")}};const m={base:{flexShrink:0,width:"100%",minHeight:"calc(100% - 249px)",paddingBottom:"50px",display:"flex",flexDirection:"column",alignItems:"center"},modal:{position:"fixed",zIndex:99,top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},title:{margin:"30px 0 25px 0",textAlign:"center",fontSize:"28px",fontWeight:"normal",color:r.palette.secondary},container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},description:{textAlign:"center",fontSize:"18px"},addCompanyBtn:r.buttonPrimaryStyle,companies:{marginTop:"30px",width:"90%",display:"flex",flexDirection:"column",alignItems:"center",$nest:{[`@media screen and (max-width: ${r.BP.sm}px)`]:{width:"100%"}}},companiesTitle:{width:"500px",padding:"0 20px 15px 20px",textAlign:"center",fontSize:"24px",color:r.palette.secondary,borderBottom:"1px solid "+r.palette.borderLight,$nest:{[`@media screen and (max-width: ${r.BP.sm}px)`]:{width:"90%"}}},companyContainer:{position:"relative",width:"500px",$nest:{[`@media screen and (max-width: ${r.BP.sm}px)`]:{width:"90%"}}},modifyCompanyBtn:{position:"absolute",bottom:"4px",left:"2px",width:"35px",height:"35px",padding:"3px",fill:r.palette.primary,border:"1px solid rgba(0, 0, 0, 0)",borderRadius:"4px",...o.clickable,$nest:{"&:hover":{fill:r.palette.primaryLight,border:"1px solid "+r.palette.borderLight}}}};a.groups={style:m}},e.f[133]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(127),r=e.r(129),s=e.r(134),c=e.r(135);a.components={CompanyForm:o.pipe(o.props({mode:"request"}),o.styles({base:{marginTop:"5px"}}))(o.clone(s)),email:o.pipe(o.styles({base:{width:"80%"}}),o.props({hint:"Tu email aquí"}))(o.clone(c))},a.state={token:"",datos:{code:0,state:""},profile:{name:"",email:""},_nest:a.components},a.inputs=(e=>({setActive:async([t,a])=>{await e.toAct("SetToken",t),await e.toAct("SetProfile",a),await e.toChild("CompanyForm","setActive")},cancel:async()=>{await e.toChild("CompanyForm","reset"),await e.toChild("email","change",""),await e.toIt("close")},addCompany:async()=>{await e.toChild("CompanyForm","getData")},$CompanyForm_data:async t=>{let a=e.stateOf();if(!a.profile.email&&(t._userEmail=e.stateOf("email").value,!t._userEmail))return await e.toChild("email","setError",!0),void alert("Déjame tu email de contacto personal, te avisaré cuando tu empresa sea añadida y cuando implemente nuevas características en la plataforma");try{0===(await fetch(n.getServer()+"/api/companyRequest",{method:"POST",headers:{Authorization:"Bearer "+a.token,Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json())).code?(await e.toChild("CompanyForm","reset"),await e.toChild("email","setError",!1),await e.toChild("email","change",""),await e.toIt("close"),await e.toIt("companyAdded",t),alert("Tu solicitud fue enviada... la revisaré y te contactaré prontamente")):alert("Hay un problema, estoy trabajando en darle pronta solución")}catch(e){alert("No hay conexión o hay un error, puedes escribirme si el problema persiste")}},$CompanyForm_validationError:async()=>{alert("Debes completar el formulario")},companyAdded:async()=>{},close:async()=>{}})),a.actions={SetToken:o.assoc("token"),SetProfile:o.assoc("profile")};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return i.h("div",{key:e.ctx.name,class:{[a.base]:!0},on:{click:"ignore"}},[i.h("div",{class:{[a.closeBtn]:!0},on:{click:e.in("close")}},"x"),i.h("div",{class:{[a.container]:!0}},[...t.profile.email?[]:[i.h("div",{class:{[a.emailForm]:!0}},[i.h("div",{class:{[a.emailText]:!0}},"Escribe tu email, te avisaré cuando tu empresa sea añadida y cuando implemente nuevas características en la plataforma*"),await e.vw("email")])],i.h("div",{class:{[a.emailText]:!0}},"Datos de la empresa"),await e.vw("CompanyForm"),i.h("div",{class:{[a.buttonContainer]:!0}},[i.h("button",{class:{[a.cancelBtn]:!0},on:{click:e.in("cancel")}},"Cancelar"),i.h("button",{class:{[a.addCompanyBtn]:!0},on:{click:e.in("addCompany")}},"Agregar")])])])}};const l={base:{position:"relative",height:"90%",borderRadius:"7px",backgroundColor:"white",$nest:{[`@media screen and (max-width: ${r.BP.sm}px)`]:{height:"100%",borderRadius:"0"}}},container:{width:"100%",height:"100%",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"scroll",...r.scrollBar},emailForm:{flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",padding:"0 0 10px 0"},emailText:{maxWidth:"500px",padding:"0 20px 5px 20px",textAlign:"center",fontSize:"18px"},initialInput:{marginTop:"10px"},finalInput:{marginBottom:"15px"},companyForm:{flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center"},buttonContainer:{flexShrink:0,display:"flex",margin:"24px 15px 15px 15px"},cancelBtn:o.deepmerge(r.buttonCancelStyle,{marginRight:"35px"}),addCompanyBtn:r.buttonPrimaryStyle,closeBtn:{position:"absolute",right:"-12px",top:"-12px",width:"24px",height:"24px",fontSize:"16px",borderRadius:"50%",background:"white",boxShadow:"0 0 1px 1px "+r.palette.borderLight,...o.clickable,...o.absoluteCenter}};a.groups={style:l}},e.f[134]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(129),r=e.r(128),s=e.r(135),c=e.r(136);a.emptyCompany={id:"",type:"micro",user:"",userId:"",tags:[],places:[],isStartup:!1,error:!1};let l={base:{width:"80%",$nest:{[`@media screen and (max-width: ${n.BP.sm}px)`]:{width:"95%"}}}},p=o.styles(l)(o.clone(s));a.components={name:o.props({hint:"Nombre de tu empresa*",attrs:{list:"companiesData"}})(o.clone(p)),email:o.props({hint:"Email de Contacto*"})(o.clone(p)),description:o.pipe(o.styles(l),o.props({hint:"¿Qué hace tu empresa?* (155 max)",attrs:{maxlength:155,rows:5}}))(o.clone(c)),webpage:o.props({hint:"Página web"})(o.clone(p)),facebook:o.props({hint:"Facebook"})(o.clone(p)),twitter:o.props({hint:"Twitter"})(o.clone(p)),linkedin:o.props({hint:"LinkedIn"})(o.clone(p)),github:o.props({hint:"Github"})(o.clone(p)),places:o.props({hint:"Sede"})(o.clone(p)),tags:o.props({hint:"Categoría (5 máximo, separadas por comas)*"})(o.clone(p))},a.state={mode:"modify",originalName:"",company:a.emptyCompany,companies:[],companySizes:[["micro","1-10"],["small","11-50"],["median","51-200"],["big","201-..."]],error:!1,nameSearchTimer:-1,_nest:a.components};a.inputs=(e=>({init:async()=>{"review"===e.stateOf().mode&&await e.toChild("name","_action",["SetAttrs",{disabled:!0}])},setActive:async()=>{},setCompany:async([t,a])=>{await e.toAct("SetCompanyField",["id",t._id]),a&&(await e.toChild("name","change",t.name),await e.toAct("SetOriginalName",t.name)),await e.toChild("email","change",t.email||""),await e.toChild("description","change",t.description||""),await e.toChild("webpage","change",t.webpage||""),await e.toChild("facebook","change",t.networks.facebook||""),await e.toChild("twitter","change",t.networks.twitter||""),await e.toChild("linkedin","change",t.networks.linkedin||""),await e.toChild("github","change",t.networks.github||""),await e.toChild("places","change",t.places.join(", ")||""),await e.toChild("tags","change",t.tags.join(", ")||""),await e.toAct("SetCompanyField",["isStartup",t.isStartup||!1]),await e.toAct("SetCompanyField",["type",t.type||"micro"])},reset:async()=>{await e.toAct("SetCompanyField",["id",""]),await e.toChild("name","change",""),await e.toChild("email","change",""),await e.toChild("description","change",""),await e.toChild("webpage","change",""),await e.toChild("facebook","change",""),await e.toChild("twitter","change",""),await e.toChild("linkedin","change",""),await e.toChild("github","change",""),await e.toChild("places","change",""),await e.toChild("tags","change",""),await e.toAct("SetCompany",a.emptyCompany),await e.toAct("SetError",!1)},getData:async()=>{let t=e.stateOf(),a={};a.id=t.company.id,a.name=e.stateOf("name").value,a.email=e.stateOf("email").value,a.description=e.stateOf("description").value,a.webpage=e.stateOf("webpage").value,a.networks={},a.networks.facebook=e.stateOf("facebook").value,a.networks.twitter=e.stateOf("twitter").value,a.networks.linkedin=e.stateOf("linkedin").value,a.networks.github=e.stateOf("github").value,a.tags=e.stateOf("tags").value.split(",").map(e=>e.trim()),a.places=e.stateOf("places").value.split(",").map(e=>e.trim()),a.isStartup=t.company.isStartup,a.type=t.company.type,a.name&&a.email&&a.description&&a.tags.join(", ")&&!t.error?(await e.toAct("SetError",!1),await e.toIt("data",a)):(await e.toAct("SetError",!0),await e.toIt("validationError"))},$name_change:async t=>{let a=e.stateOf();"review"!==a.mode&&(-1!==a.nameSearchTimer&&clearTimeout(a.nameSearchTimer),a.nameSearchTimer=((e,t,a)=>setTimeout(()=>{r.search(e,"name","",10).then(([e])=>a(e))},t))(t,400,async o=>{await e.toAct("SetCompanies",o),o.filter(e=>r.strToLink(e.name)===r.strToLink(t))[0]?"request"===a.mode?(await e.toIt("setCompany",[o[0],!1]),await e.toAct("SetError",!1)):"modify"===a.mode&&r.strToLink(a.originalName)!==r.strToLink(t)&&(await e.toChild("name","setError",!0),await e.toAct("SetError",!0)):a.error&&await e.toAct("SetError",!1)}))},$email_change:async()=>await e.toAct("SetError",!1),$description_change:async()=>await e.toAct("SetError",!1),$tags_change:async()=>await e.toAct("SetError",!1),data:async()=>{},validationError:async()=>{}})),a.actions={SetMode:o.assoc("mode"),SetCompany:o.assoc("company"),SetError:o.assoc("error"),SetCompanies:o.assoc("companies"),SetOriginalName:o.assoc("originalName"),SetIsStartup:e=>t=>(t.company.isStartup=1===e,t),SetCompanyType:e=>t=>(t.company.type=t.companySizes[e][0],t),SetCompanyField:([e,t])=>a=>(a.company[e]=t,a)};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return i.h("div",{key:e.ctx.name,class:{[a.base]:!0}},[await e.vw("name"),..."request"===t.mode?[i.h("datalist",{attrs:{id:"companiesData"}},t.companies.filter(e=>!e.userId).map(e=>i.h("option",e.name)))]:[],await e.vw("email"),await e.vw("description"),await e.vw("webpage"),await e.vw("facebook"),await e.vw("twitter"),await e.vw("linkedin"),await e.vw("github"),await e.vw("places"),await e.vw("tags"),i.h("div",{class:{[a.description]:!0}},"¿Tu empresa está en búsqueda de un modelo de negocio repetible y escalable (Startup)?*"),i.h("select",{class:{[a.select]:!0},on:{change:e.act("SetIsStartup",o._,["target","selectedIndex"])}},[i.h("option",{props:{selected:!t.company.isStartup}},"No"),i.h("option",{props:{selected:t.company.isStartup}},"Si")]),i.h("div",{class:{[a.description]:!0}},"¿Cuantas personas hay en tu empresa?*"),i.h("select",{class:{[a.select]:!0},on:{change:e.act("SetCompanyType",o._,["target","selectedIndex"])}},t.companySizes.map(e=>i.h("option",{props:{selected:t.company.type===e[0]||void 0===t.company.type}},e[1])))])}};const d={base:{maxWidth:"500px",flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center"},input:n.simpleInput,finalInput:{marginBottom:"15px"},description:{maxWidth:"500px",padding:"17px 10px 17px 10px",textAlign:"center",fontSize:"18px"},select:{marginBottom:"10px",fontSize:"18px",border:"none",outline:"none",background:"none",borderBottom:"1px solid "+n.palette.borderLight}};a.groups={style:d}},e.f[135]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(129);a.state={width:0,value:"",hint:"",focus:!1,error:!1,attrs:{}},a.inputs=(e=>({setFocus:async t=>await e.toAct("SetFocus",t),change:async t=>await e.toAct("Change",t),keyUp:async()=>{},setError:async t=>await e.toAct("SetError",t)})),a.actions={SetWidth:o.assoc("width"),SetFocus:o.assoc("focus"),SetError:o.assoc("error"),SetAttrs:o.assoc("attrs"),Change:e=>t=>(t.value=e,t.error=!1,t)};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return i.h("div",{key:e.ctx.name,class:{[a.base]:!0},size:e.act("SetWidth",o._,"width")},[i.h("input",{key:e.ctx.name,class:{[a.input]:!0},props:{value:t.value},on:{keyup:e.in("keyUp",o._,"keyCode",{default:!0}),input:e.in("change",o._,["target","value"]),focus:e.in("setFocus",!0),blur:e.in("setFocus",!1)},attrs:{type:"text",...t.attrs}}),i.h("div",{class:{[a.lineContainer]:!0,[a.lineContainerFocus]:t.focus}},[i.h("div",{class:{[a.bottomLine]:!0,[a.bottomLineFocus]:t.focus,[a.bottomLineError]:t.error},style:t.focus?{transform:`scaleX(${t.width})`}:{}})]),i.h("label",{class:{[a.hint]:!0,[a.hintActive]:t.focus||""!==t.value,[a.hintError]:t.error}},t.hint)])}};const r={base:{width:"100%",position:"relative",margin:"10px"},input:{position:"relative",width:"100%",zIndex:2,padding:"15px 0px 4px 0px",fontSize:"18px",outline:"none",border:"none",backgroundColor:"rgba(0, 0, 0, 0)",...n.textStyle},hint:{position:"absolute",left:"9px",top:"15px",padding:"0 4px 4px 0",fontSize:"18px",textRendering:"geometricPrecision",transition:"transform .2s",transformOrigin:"left top",...n.textStyle,color:n.palette.textTertiary},hintActive:{transform:"translate(-9px, -15px) scale(0.67)",padding:"0",color:n.palette.primary},hintError:{color:n.palette.redCol},lineContainer:{width:"100%",height:"2px",borderTop:"1px solid "+n.palette.borderLight,display:"flex",justifyContent:"center"},lineContainerFocus:{borderTop:"none"},bottomLine:{visibility:"hidden",width:"1px",height:"2px",transition:"transform .3s",backgroundColor:n.palette.primary},bottomLineFocus:{visibility:"visible"},bottomLineError:{backgroundColor:n.palette.redCol}};a.groups={style:r}},e.f[136]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(129);a.state={width:0,value:"",hint:"",attrs:{},focus:!1},a.inputs=(e=>({setFocus:async t=>await e.toAct("SetFocus",t),change:async t=>await e.toAct("Change",t),keyUp:async()=>{}})),a.actions={SetWidth:o.assoc("width"),SetFocus:o.assoc("focus"),Change:o.assoc("value")};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return i.h("div",{key:e.ctx.name,class:{[a.base]:!0},size:e.act("SetWidth",o._,"width")},[i.h("textarea",{key:e.ctx.name,class:{[a.input]:!0},props:{value:t.value},on:{keyup:e.in("keyUp",o._,"keyCode",{default:!0}),input:e.in("change",o._,["target","value"]),focus:e.in("setFocus",!0),blur:e.in("setFocus",!1)},attrs:t.attrs}),i.h("div",{class:{[a.lineContainer]:!0,[a.lineContainerFocus]:t.focus}},[i.h("div",{class:{[a.bottomLine]:!0,[a.bottomLineFocus]:t.focus},style:t.focus?{transform:`scaleX(${t.width})`}:{}})]),i.h("label",{class:{[a.hint]:!0,[a.hintActive]:t.focus||""!==t.value}},t.hint)])}};const r={base:{width:"100%",position:"relative",margin:"10px"},input:{position:"relative",width:"100%",zIndex:2,padding:"15px 0px 4px 0px",fontSize:"18px",outline:"none",border:"none",backgroundColor:"rgba(0, 0, 0, 0)",...n.textStyle},hint:{position:"absolute",left:"9px",top:"15px",padding:"0 4px 4px 0",fontSize:"18px",textRendering:"geometricPrecision",transition:"transform .2s",transformOrigin:"left top",...n.textStyle,color:n.palette.textTertiary},hintActive:{transform:"translate(-9px, -15px) scale(0.67)",padding:"0",color:n.palette.primary},lineContainer:{width:"100%",height:"2px",borderTop:"1px solid "+n.palette.borderLight,display:"flex",justifyContent:"center"},lineContainerFocus:{borderTop:"none"},bottomLine:{visibility:"hidden",width:"1px",height:"2px",transition:"transform .3s",backgroundColor:n.palette.primary},bottomLineFocus:{visibility:"visible"}};a.groups={style:r}},e.f[137]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(127),r=e.r(129),s=e.r(134);a.components={CompanyForm:o.pipe(o.props({mode:"modify"}))(o.clone(s))},a.state={token:"",datos:{code:0,state:""},profile:{name:"",email:""},pendingRemoval:!1,_nest:a.components},a.inputs=(e=>({setActive:async([t,a])=>{await e.toAct("SetToken",t),await e.toAct("SetProfile",a),await e.toChild("CompanyForm","setActive")},setCompany:async t=>{await e.toChild("CompanyForm","setCompany",[t,!0])},remove:async()=>{await e.toAct("Set",["pendingRemoval",!0]),await e.toChild("CompanyForm","getData")},saveCompany:async()=>{await e.toAct("Set",["pendingRemoval",!1]),await e.toChild("CompanyForm","getData")},$CompanyForm_data:async t=>{let a=e.stateOf();t._id=t.id,delete t.id,a.pendingRemoval&&(confirm("¿Estas seguro de que deseas eliminar "+t.name+"?"),t._deleted=!0),fetch(n.getServer()+"/api/company",{method:"POST",headers:{Authorization:"Bearer "+a.token,Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json()).then(t=>{0===t.code?(e.toChild("CompanyForm","reset"),e.toIt("close"),a.pendingRemoval?alert("La empresa fue guardada exitosamente"):alert("La empresa fue eliminada exitosamente")):alert("Hay un problema, estoy trabajando en darle pronta solución")}).catch(()=>alert("No hay conexión o hay un error, puedes escribirme si el problema persiste"))},$CompanyForm_validationError:async()=>{alert("Debes completar el formulario")},close:async()=>{await e.toChild("CompanyForm","reset")}})),a.actions={SetToken:o.assoc("token"),SetProfile:o.assoc("profile")};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return i.h("div",{class:{[a.base]:!0},on:{click:"ignore"}},[i.h("div",{class:{[a.closeBtn]:!0},on:{click:e.in("close")}},"x"),i.h("div",{class:{[a.container]:!0}},[await e.vw("CompanyForm"),i.h("div",{class:{[a.buttonContainer]:!0}},[i.h("button",{class:{[a.cancelBtn]:!0},on:{click:e.in("remove")}},"Eliminar"),i.h("button",{class:{[a.saveCompanyBtn]:!0},on:{click:e.in("saveCompany")}},"Guardar")])])])}};const c={base:{position:"relative",height:"90%",borderRadius:"7px",backgroundColor:"white",$nest:{[`@media screen and (max-width: ${r.BP.sm}px)`]:{height:"100%",borderRadius:"0"}}},container:{width:"100%",height:"100%",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"scroll",...r.scrollBar},emailForm:{flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",padding:"0 0 10px 0"},emailText:{maxWidth:"500px",padding:"0 20px 5px 20px",textAlign:"center",fontSize:"18px"},initialInput:{marginTop:"10px"},finalInput:{marginBottom:"15px"},companyForm:{flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center"},buttonContainer:{flexShrink:0,display:"flex",margin:"24px 15px 15px 15px"},cancelBtn:o.deepmerge(r.buttonCancelStyle,{marginRight:"35px"}),saveCompanyBtn:r.buttonPrimaryStyle,closeBtn:{position:"absolute",right:"-12px",top:"-12px",width:"24px",height:"24px",fontSize:"16px",borderRadius:"50%",background:"white",boxShadow:"0 0 1px 1px "+r.palette.borderLight,...o.clickable,...o.absoluteCenter}};a.groups={style:c}},e.f[138]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(129);a.state={},a.inputs=(e=>({login:async()=>{e.emit("login")}})),a.actions={};a.interfaces={view:e=>async t=>{let a=o.getStyle(e);return i.h("article",{key:e.ctx.name,class:a("base")},[i.h("div",{class:a("title")},"Bienvenido!"),i.h("button",{class:a("loginBtn"),on:{click:e.in("login")}},"Entrar")])}};const r={base:{flexShrink:0,width:"100%",minHeight:"calc(100% - 249px)",paddingBottom:"50px",display:"flex",flexDirection:"column",alignItems:"center"},title:{margin:"30px 0 25px 0",textAlign:"center",fontSize:"28px",fontWeight:"normal",color:n.palette.secondary},loginBtn:o.deepmerge(n.buttonPrimaryStyle,{width:"130px"})};a.groups={style:r}},e.f[139]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(127),r=e.r(129),s=e.r(134);a.components={CompanyForm:o.props({mode:"review"})(o.clone(s))},a.state={active:!1,token:"",profile:{id:""},companyUnreviewedId:"",companyId:"",userId:"",userFb:"",_nest:a.components},a.inputs=(e=>({setTokenAndProfile:async([t,a])=>{let o=e.stateOf();await e.toAct("SetTokenAndProfile",[t,a]),o.active&&await e.toIt("getUnreviewed")},setActive:async()=>{let t=e.stateOf();await e.toAct("SetActive",!0),t.token&&await e.toIt("getUnreviewed")},getUnreviewed:async()=>{let t=e.stateOf();await e.toChild("CompanyForm","reset");try{let a=await fetch(n.getServer()+"/api/unreviewed/0",{headers:{Authorization:"Bearer "+t.token}}).then(e=>e.json());-2===a.code?alert("No hay mas compañias por revisar ..."):a.code<0?alert("Hay un problema, estoy trabajando en darle pronta solución"):(await e.toAct("SetCompanyUnreviewedId",a._id),await e.toAct("SetCompanyId",a.id),await e.toChild("CompanyForm","setCompany",[a,!0]),await e.toIt("setCompanyData",a))}catch(e){alert("No hay conexión o hay un error, puedes escribirme si el problema persiste")}},deny:async()=>{let t=e.stateOf();try{0===(await fetch(n.getServer()+"/api/deny",{method:"POST",headers:{Authorization:"Bearer "+t.token,Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({id:t.companyUnreviewedId})}).then(e=>e.json())).code?(await e.toChild("CompanyForm","reset"),await e.toAct("SetCompanyUnreviewedId",""),await e.toAct("SetCompanyId",""),await e.toIt("getUnreviewed")):alert("Hay un problema, estoy trabajando en darle pronta solución")}catch(e){alert("No hay conexión o hay un error, puedes escribirme si el problema persiste")}},addCompany:async()=>{await e.toChild("CompanyForm","getData")},setCompanyData:async t=>{await e.toAct("SetUserId",t.userId),await e.toAct("SetUserFb",t.userFb)},$CompanyForm_data:async t=>{let a=e.stateOf();t._id=a.companyUnreviewedId,t.id=a.companyId,fetch(n.getServer()+"/api/accept",{method:"POST",headers:{Authorization:"Bearer "+a.token,Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json()).then(t=>{0===t.code?(e.toChild("CompanyForm","reset"),e.toAct("SetCompanyUnreviewedId",""),e.toIt("getUnreviewed")):alert("Hay un problema, estoy trabajando en darle pronta solución")}).catch(()=>alert("No hay conexión o hay un error, puedes escribirme si el problema persiste"))},$CompanyForm_validationError:async()=>{alert("Por favor, completa el formulario")}})),a.actions={SetTokenAndProfile:([e,t])=>t=>(t.token=e,t),SetCompanyUnreviewedId:o.assoc("companyUnreviewedId"),SetActive:o.assoc("active"),SetUserId:o.assoc("userId"),SetUserFb:o.assoc("userFb"),SetCompanyId:o.assoc("companyId")};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return t.token?i.h("div",{key:e.ctx.name,class:{[a.base]:!0}},[await e.vw("CompanyForm"),i.h("a",{class:{[a.link]:!0},attrs:{href:"https://facebook.com/"+t.userId,target:"_blank",rel:"noopener noreferrer"}},"Facebook de usuario que hace PETICION"),...t.userFb?[i.h("a",{class:{[a.link]:!0},attrs:{href:t.userFb,target:"_blank",rel:"noopener noreferrer"}},"Facebook de usuario de EMPRESA")]:[i.h("div","Nueva empresa")],...t.companyUnreviewedId?[i.h("div",{class:{[a.buttonContainer]:!0}},[i.h("button",{class:{[a.denyBtn]:!0},on:{click:e.in("deny")}},"Denegar"),i.h("button",{class:{[a.addCompanyBtn]:!0},on:{click:e.in("addCompany")}},"Aceptar")])]:[i.h("button",{class:{[a.addCompanyBtn]:!0},on:{click:e.in("getUnreviewed")}},"Cargar")]]):i.h("div",{class:{[a.base]:!0}},"Sitio para administradores")}};const c={base:{flexShrink:0,width:"100%",paddingBottom:"40px",display:"flex",flexDirection:"column",alignItems:"center"},link:{padding:"10px"},buttonContainer:{flexShrink:0,display:"flex",margin:"24px 15px 35px 15px"},denyBtn:o.deepmerge(r.buttonCancelStyle,{marginTop:"35px",marginRight:"35px"}),addCompanyBtn:o.deepmerge(r.buttonPrimaryStyle,{marginTop:"35px"})};a.groups={style:c}},e.f[140]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(129);a.state={fetched:!1,name:"",description:"",webpage:"",user:"",userId:"",userFb:"",networks:{facebook:""},places:[],tags:[]},a.inputs=(e=>({setActive:async t=>{await e.toAct("SetState",t)},toSite:async t=>{await e.task("route",[t])}})),a.actions={SetState:e=>t=>o.deepmerge(t,e)};a.interfaces={view:e=>async t=>{let a=e.ctx.groups.style;return t.fetched?i.h("div",{key:e.ctx.name,class:{[a.base]:!0}},[i.h("a",{class:{[a.toMainPage]:!0,[a.linkNormal]:!0},attrs:{href:"/"},on:{click:e.in("toSite","/",o._,{default:!1})}},"startupcol.com"),i.h("h1",{class:{[a.title]:!0}},t.name),...t.description?[i.h("p",{class:{[a.description]:!0}},t.description)]:[],...t.webpage?[i.h("a",{class:{[a.link]:!0,[a.coloredLink]:!0},attrs:{href:t.webpage,target:"_blank",rel:"noopener noreferrer"}},"Sitio")]:[],...t.networks.facebook?[i.h("a",{class:{[a.link]:!0,[a.coloredLink]:!0},attrs:{href:t.networks.facebook,target:"_blank",rel:"nofollow noopener noreferrer"}},"Facebook")]:[],i.h("a",{class:{[a.link]:!0},attrs:{href:t.userFb?t.userFb:"facebook.com/"+t.userId,target:"_blank",rel:"nofollow noopener noreferrer"}},t.user),i.h("div",{class:{[a.places]:!0}},t.places[0]),t.tags?i.h("div",{class:{[a.tags]:!0}},t.tags.map(e=>i.h("div",{class:{[a.tag]:!0}},e))):i.h("div")]):i.h("div",{key:e.ctx.name,class:{[a.base]:!0}},[i.h("h1",{class:{[a.titleError]:!0}},`No existe una empresa llamada "${t.name}" en la plataforma`),i.h("div",{class:{[a.description]:!0}},["Inscríbela fácilmente dese ",i.h("a",{class:{[a.linkNormal]:!0},attrs:{href:"/"},on:{click:e.in("toSite","/",o._,{default:!1})}},"startupcol.com")])])}};const r={base:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto",...n.textStyle},linkNormal:{padding:"5px",fontSize:"14px",color:n.palette.textTertiary,textDecoration:"none",...o.clickable,$nest:{"&:hover":{textDecoration:"underline"}}},toMainPage:{position:"absolute",top:"0px",right:"0px",$nest:{[`@media screen and (max-width: ${n.BP.sm}px)`]:{top:"auto",bottom:"0px"}}},title:{minWidth:"400px",margin:"0 0 7px 0",padding:"20px 20px 20px 20px",fontSize:"45px",textAlign:"center",color:n.palette.primary,borderBottom:"1px solid "+n.palette.borderLight,$nest:{[`@media screen and (max-width: ${n.BP.sm}px)`]:{minWidth:"100%"}}},titleError:{minWidth:"400px",margin:"0 0 20px 0",padding:"20px 20px 20px 20px",fontSize:"22px",textAlign:"center",color:n.palette.primary,borderBottom:"1px solid "+n.palette.borderLight},description:{margin:"0",maxWidth:"700px",padding:"12px 15px 24px 15px",textAlign:"center",fontSize:"24px",color:n.palette.textPrimary,$nest:{[`@media screen and (max-width: ${n.BP.sm}px)`]:{fontSize:"22px"}}},link:{color:n.palette.textTertiary,padding:"5px 8px",textDecoration:"none",fontSize:"20px",borderRadius:"4px",...o.clickable,$nest:{"&:hover":{backgroundColor:n.palette.shadowLight},[`@media screen and (max-width: ${n.BP.sm}px)`]:{width:"90%",padding:"8px 8px",textAlign:"center"}}},coloredLink:{color:n.palette.primary},places:{marginTop:"8px",marginBottom:"2px",padding:"3px",borderRadius:"4px",fontSize:"16px",color:n.palette.textTertiary},tags:{maxWidth:"85%",display:"flex",justifyContent:"center",flexWrap:"wrap"},tag:{margin:"3px",padding:"3px",borderRadius:"4px",fontSize:"14px",color:n.palette.textTertiary,border:"1px solid "+n.palette.borderGrey}};a.groups={style:r}},e.f[141]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(129),r=e.r(45),s=e.r(62),c=e.r(138),l=e.r(142);a.state={num:0,lastUpdated:0,charts:[],_nest:{JoinToSee:c},_compUpdated:!1},a.inputs=(e=>({setActive:async()=>{const t=await fetch("https://1ec8c733-54bd-44c9-aafd-cd14edb80cf1-bluemix.cloudant.com/startups/stats").then(e=>e.json());let a=e.stateOf(),o=a.charts.length;e.set("num",t.length);const i=r(new Date(t.timestamp),"DD/MM/YYYY HH:MM:SS",{locale:s});if(e.set("lastUpdated",i),e.toAct("AddCharts",t.list),o>0)for(let t of a.charts)e.toChild(t,"init")}})),a.actions={AddCharts:e=>t=>{for(let a in e){let i=e[a];t._nest[a]=o.comp(l,{state:{title:i.title,type:i.type,labels:i.labels,data:i.data,backgroundColor:i.backgroundColor}}),t.charts.push(a)}return t._compUpdated=!0,t}};a.interfaces={view:e=>async t=>{let a=o.getStyle(e);return i.h("div",{key:e.ctx.name,class:a("base")},[i.h("div",{class:a("title")},"Estadísticas de las Startups Digitales"),i.h("div",{class:a("description")},[`Este estudio contempla ${t.num} Startups Digitales en Colombia puede consultar la fuente `,i.h("a",{attrs:{target:"_blank",rel:"noopener",href:"https://docs.google.com/spreadsheets/d/1gn-wJpq_kxhGbByp76Sc3drJxXNDAVRiNjJy87HJ7Uc/edit#gid=0"}},"acá")," dicho documento es de libre edición, mantenido y curado por lo diferentes founders de la Comunidad Startup de manera permanente.",` Ultima actualización ${t.lastUpdated}.`]),i.h("div",{class:a("charts")},await o.mapAsync(t.charts,async t=>i.h("div",{class:a("chart")},[await e.vw(t)])))])}};const p={base:{display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0,minHeight:"calc(100% - 249px)",paddingBottom:"50px"},title:{padding:"25px 10px 15px 10px",textAlign:"center",fontSize:"32px"},description:{padding:"10px",fontSize:"20px",textAlign:"center",maxWidth:"660px",color:n.palette.textSecondary},charts:{marginTop:"20px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},chart:{margin:"10px",width:"100%",maxWidth:"660px",flexShrink:0}};a.groups={style:p}},e.f[142]=function(t,a){Object.defineProperty(a,"__esModule",{value:!0});const o=e.r(1),i=e.r(14),n=e.r(65),r={horizontalBar:"Barras Horizontales",pie:"Pastel",bar:"Barras"},s=Object.keys(r),c=Object.values(r);a.state={title:"",type:"",labels:[],data:[],backgroundColor:[],chart:-1};const l=e=>o.clone({type:e.type,data:{labels:e.labels,datasets:[{label:e.title,data:e.data,backgroundColor:e.backgroundColor}]},options:{maintainAspectRatio:!1}});a.inputs=(e=>({init:async()=>{let t=e.stateOf();setTimeout(()=>{const a=new n(e.ctx.id,l(t));e.set("chart",a)},150)},setType:async t=>{let a=e.stateOf();await e.set("type",s[t]),-1!==a.chart&&a.chart.destroy(),await e.set("chart",new n(e.ctx.id,l(a)))}})),a.actions={};a.interfaces={view:e=>async t=>{let a=o.getStyle(e);return i.h("div",{key:e.ctx.name,class:a("base")},[i.h("select",{class:a("type"),on:{change:e.in("setType",o._,["target","selectedIndex"])}},c.map((e,a)=>i.h("option",{props:t.type===s[a]?{selected:"selected"}:{}},e))),i.h("div",{class:a("title")},t.title),i.h("div",{class:a("container"),style:{height:"horizontalBar"===t.type?"700px":"400px"}},[i.h("canvas",{props:{id:e.ctx.id,width:"400",height:"400"}})])])}};a.groups={style:{base:{position:"relative",width:"100%",padding:"30px 20px 30px 20px",border:"1px dashed grey"},title:{paddingBottom:"30px",textAlign:"center",fontSize:"27px"},type:{position:"absolute",right:"4px",top:"4px",padding:"3px",background:"none",fontSize:"12px"},container:{width:"100%"}}}},e.r(123)}($fsx);